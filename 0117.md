# 요구사항 명세, ERD
## 요구사항 명세
- 피드백을 바탕으로한 요구사항, 세부 기능 분석
## ERD 설계 분석 및 고민사항 해결
### 유저 Member

- id(pk)
- nickname
- email
- provider (kakao)
- access_token → OAuth 발급 토큰
- 프로정보 ENUM

---

- createdAt
- updeateAt

### 프로필 Profile

- member-id
- url

---

- createdAt
- updeateAt

---

### 모집글

- id
- title
- content
- video
- script
- 녹화일시 datetime
- STATUS
    - 모집 중, 모집 마감, ON_AIR
- 인원 (cnt가능하지만… 넣음)

---

### file

- id
- url
- type…

### 모집글-역할

- id
- 모집글 id
- name
- user-id

---

### 스튜디오

- id
- 모집글 id
- closedAt
- isClosed

### Push (일정 알림뿐)

- id
- 모집글 id

### Push_read

- push id
- member_id
### 1. Member와 Profile 분리 관련

**Q: 프로필을 Member 테이블에 통합하지 않은 이유?**

**A:** Profile을 별도 테이블로 분리한 것은 다음과 같은 이점이 있습니다:

* 프로필 이미지 변경 이력 관리 용이
* Member 테이블의 책임 분리 (인증/인가 정보와 프로필 정보 분리)
* 프로필 관련 확장성 확보 (추후 프로필 관련 정보 추가 시 Member 테이블 변경 불필요)

### 2. 프로필 이미지 관리

**Q: 프로필 이미지 삭제 시점?**

**A:** 다음과 같은 전략을 제안합니다:

1. Soft Delete 방식 채택
    * Profile 테이블에 deletedAt 컬럼 추가
    * 실제 파일 삭제는 배치 작업으로 처리

2. 배치 작업 구현
    * 매일 자정 deletedAt이 24시간 이상 경과한 프로필 이미지 삭제
    * 삭제 작업 실패 시 재시도를 위한 DeletedFile 테이블 추가